<!DOCTYPE html>
<html>
<head>
  <title>HerHealth Hub ðŸŒ¸</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
  <%= javascript_importmap_tags %>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>

<body class="d-flex flex-column min-vh-100" style="font-family: 'Poppins', sans-serif; margin: 0; padding: 0; background: linear-gradient(to right, #fdfbfb, #ebedee);">

  <%#  NOTE: This could go into a partial %>
  <!-- Navigation Bar -->
  <nav class="navbar" style="background-color: #ffffff; border-bottom: 1px solid #ddd; padding: 12px 20px; display: flex; justify-content: space-between; align-items: center;">
    <%= link_to "HerHealth Hub ðŸŒ¸", dashboard_path, style: "text-decoration: none; font-weight: bold; font-size: 24px; color: black;" %>

    <div style="display: flex; gap: 20px; font-size: 16px;">
      <% if user_signed_in? %>
        <%= link_to "Dashboard", dashboard_path, style: "text-decoration: none; color: #6f42c1;" %>
        <%= link_to "Logs", logs_path, style: "text-decoration: none; color: #6f42c1;" %>
        <%= link_to "Diagnostics", diagnostics_path, style: "text-decoration: none; color: #6f42c1;" %>
        <% if @latest_diagnostic %>
  <%= link_to "ðŸ“„ Report", report_diagnostic_path(@latest_diagnostic, format: :pdf), style: "text-decoration: none; color: #6f42c1;", target: "_blank" %>
<% end %>
        <%= link_to "Logout", destroy_user_session_path, method: :delete, style: "text-decoration: none; color: #e63946;" %>
      <% else %>
        <%= link_to "Sign Up", new_user_registration_path, style: "text-decoration: none; color: #6f42c1;" %>
        <%= link_to "Login", new_user_session_path, style: "text-decoration: none; color: #6f42c1;" %>
      <% end %>
    </div>
  </nav>

  <!-- Main Page Content -->
  <main class="flex-grow-1 d-flex flex-column justify-content-between" style="flex: 1; max-width: 1000px; margin: 40px auto; padding: 20px;">

    <%= yield %>
  </main>

  <!-- Sticky Footer -->
  <%= render "shared/footer" %>

</body>
</html>
